{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"4.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n  exports: [\n    HomePage\n  ]\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { NavController, IonicPage } from 'ionic-angular';\nimport { RecordType } from '../../app/services/record-type';\nimport { Record } from '../../app/services/record';\nimport { RecordProvider } from \"../../providers/record/record\";\nimport { Moment } from \"moment/moment\";\nimport * as moment from 'moment';\n\n@IonicPage()\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html'\n})\nexport class HomePage {\n\n    records: Record[]\n\n    messageTimeout: number = 1000\n\n    showEntrada: boolean\n    showSalida: boolean\n    showSuccess: boolean\n\n    constructor(public navCtrl: NavController, public recordProvider: RecordProvider) {\n        this.showEntrada = true\n        // recordProvider.reset()\n    }\n\n    ionViewDidLoad() {\n    }\n\n    ionViewWillEnter() {\n\n        // this.records = this.recordProvider.loadDummyTimes()\n        // this.showCorrectButton(this.records)\n\n        this.recordProvider.loadTodayTimes().then((records) => {\n            console.log('loaded -> ' + records)\n            return this.records = records\n        }).then((records) => {\n            this.showCorrectButton(records)\n        })\n    }\n\n    showCorrectButton(records: Array<Record>) {\n        console.log('showCorrectButton')\n        if (records != undefined && records != null && records.length != 0) {\n            var lastRecord = records[records.length - 1]\n            if (lastRecord.type == RecordType.ENTRY) {\n                this.showEntrada = false\n                this.showSalida = true\n            } else if (lastRecord.type == RecordType.DEPARTURE) {\n                this.showEntrada = true\n                this.showSalida = false\n            }\n        }\n    }\n\n    picarEntrada() {\n        this.pica(RecordType.ENTRY, moment())\n\n        this.showEntradaMessage()\n    }\n\n    picarSalida() {\n        this.pica(RecordType.DEPARTURE, moment())\n\n        this.showSalidaMessage()\n    }\n\n    showEntradaMessage() {\n        this.showEntrada = false\n        this.showSuccess = true\n\n        setTimeout(() => {\n            this.showSalida = true\n            this.showSuccess = false\n        }, this.messageTimeout)\n    }\n\n    showSalidaMessage() {\n        this.showSalida = false\n        this.showSuccess = true\n\n        setTimeout(() => {\n            this.showEntrada = true\n            this.showSuccess = false\n        }, this.messageTimeout)\n    }\n\n    pica(type: RecordType, time: Moment) {\n        this.recordProvider.addTime(time, type)\n    }\n\n    now() {\n        return new Date()\n    }\n\n    getNameForType(type: RecordType): string {\n\n        var iconName: string\n\n        switch (type) {\n            case RecordType.ENTRY:\n                iconName = 'log-in'\n                break;\n            case RecordType.DEPARTURE:\n                iconName = 'log-out'\n                break;\n\n            default:\n                break;\n        }\n\n        return iconName;\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}