{"version":3,"sources":["../../src/pages/record/record.module.ts","../../src/pages/record/record.ts"],"names":[],"mappings":"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","file":"2.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RecordPage } from './record';\nimport { PipesModule } from \"../../app/pipes/pipes.module\";\n\n@NgModule({\n  declarations: [\n    RecordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RecordPage),\n    PipesModule\n  ],\n  exports: [\n    RecordPage\n  ]\n})\nexport class RecordPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/record/record.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, List } from 'ionic-angular';\nimport { Record } from '../../app/services/record'\nimport { RecordType } from \"../../app/services/record-type\";\nimport { RecordProvider } from \"../../providers/record/record\";\nimport * as moment from 'moment';\n\n/**\n * Generated class for the RecordPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-record',\n  templateUrl: 'record.html',\n})\nexport class RecordPage {\n\n  @ViewChild(List) slidingItems: List;\n\n  titleFormat = \"D MMMM\"\n  title: String\n  records: Array<Record>;\n  _datePickerModel: any\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public recordProvider: RecordProvider) {\n    this.records = navParams.get('records')\n  }\n\n  ionViewWillEnter() {\n    this.recordProvider.loadRecordsForSelectedDay().then((v) => {\n      this.records = v;\n    })\n    // this.loadRecords()\n\n    this.setTitle()\n\n  }\n\n  setTitle() {\n    if (!this.records || this.records.length == 0) {\n      this.title = moment().format(this.titleFormat)\n    } else {\n      this.title = moment(this.records[0].time).format(this.titleFormat)\n    }\n  }\n\n  loadRecords() {\n    if (this.navParams.get('records') == undefined || this.navParams.get('records') == null) {\n      // no day selected, show today records\n      this.recordProvider.loadTodayTimes().then((v) => {\n        this.records = v\n      })\n    }\n  }\n\n  dateChanged(record: Record, date) {\n    const { day, month, year, hour, minute, second } = date\n    console.log(date)\n    var dateToSave = moment().date(day).month(month).year(year).hour(hour).minute(minute).second(second)\n\n    this.records[this.records.indexOf(record)].time = dateToSave //fixme what wenn moved to another date?\n    // console.log(test.toISOString())\n    // this.recordProvider.updateRecord(record, t, this.records)\n    this.recordProvider.updateRecord(record, date)\n\n    this.slidingItems.closeSlidingItems()\n  }\n\n  getNameForType(type: RecordType): string {\n\n    var iconName: string\n\n    switch (type) {\n      case RecordType.ENTRY:\n        iconName = 'log-in'\n        break;\n      case RecordType.DEPARTURE:\n        iconName = 'log-out'\n        break;\n\n      default:\n        break;\n    }\n\n    return iconName;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/record/record.ts"],"sourceRoot":""}